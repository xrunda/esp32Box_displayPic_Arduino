ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x15 (USB_UART_CHIP_RESET),boot:0x22 (DOWNLOAD(USB/UART0))
Saved PC:0x40041a76
waiting for download
[0;32mI (850) esp_psram: SPI SRAM memory test OK[0m
[0;32mI (858) cpu_start: Pro cpu start user code[0m
[0;32mI (858) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (858) app_init: Application information:[0m
[0;32mI (858) app_init: Project name:     displayPic[0m
[0;32mI (859) app_init: App version:      f059e0e-dirty[0m
[0;32mI (859) app_init: Compile time:     Dec 31 2025 17:34:32[0m
[0;32mI (859) app_init: ELF file SHA256:  fd3b19f3d...[0m
[0;32mI (859) app_init: ESP-IDF:          v5.4-398-g473771bc14[0m
[0;32mI (859) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (859) efuse_init: Max chip rev:     v0.99 [0m
[0;32mI (860) efuse_init: Chip rev:         v0.2[0m
[0;32mI (860) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (860) heap_init: At 3FCAC320 len 0003D3F0 (244 KiB): RAM[0m
[0;32mI (860) heap_init: At 3FCE9710 len 00005724 (21 KiB): RAM[0m
[0;32mI (860) heap_init: At 600FE11C len 00001ECC (7 KiB): RTCRAM[0m
[0;32mI (861) esp_psram: Adding pool of 16384K of PSRAM memory to heap allocator[0m
[0;32mI (862) spi_flash: detected chip: gd[0m
[0;32mI (862) spi_flash: flash io: qio[0m
[0;33mW (862) i2c: This driver is an old driver, please migrate your application code to adapt `driver/i2c_master.h`[0m
[0;32mI (863) sleep_gpio: Configure to isolate all GPIO pins in sleep state[0m
[0;32mI (863) sleep_gpio: Enable automatic switching of GPIO sleep configuration[0m
[0;32mI (864) main_task: Started on CPU0[0m
[0;32mI (874) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations[0m
[0;32mI (874) main_task: Calling app_main()[0m
[0;32mI (874) display_image: Network Image Display Example Started[0m
[0;32mI (894) display_image: Initializing I2C...[0m
[0;32mI (894) display_image: I2C initialized[0m
[0;32mI (894) display_image: Initializing SPIFFS[0m
[0;32mI (944) display_image: Partition size: total: 956561, used: 25351[0m
[0;32mI (944) display_image: Initializing display...[0m
[0;32mI (944) LVGL: Starting LVGL task[0m
[0;33mW (944) ledc: GPIO 47 is not usable, maybe conflict with others[0m
[0;32mI (954) gpio: GPIO[4]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (954) gpio: GPIO[48]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (954) ili9341: LCD panel create success, version: 1.2.0[0m
[0;33mW (1074) ili9341: The 36h command has been used and will be overwritten by external initialization sequence[0m
[0;33mW (1074) ili9341: The 3Ah command has been used and will be overwritten by external initialization sequence[0m
[0;32mI (1074) GT911: I2C address initialization procedure skipped - using default GT9xx setup[0m
[0;32mI (1074) gpio: GPIO[3]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:2 [0m
[0;32mI (1074) GT911: TouchPad_ID:0x39,0x31,0x31[0m
[0;32mI (1074) GT911: TouchPad_Config_Version:65[0m
[0;32mI (1074) display_image: Display initialized successfully[0m
[0;32mI (1074) display_image: LVGL file system driver registered with letter 'S'[0m
[0;32mI (1274) display_image: Setting display brightness to 100%...[0m
[0;32mI (1274) ESP-BOX-3: Setting LCD backlight: 100%[0m
[0;32mI (1274) display_image: Backlight turned on successfully[0m
[0;32mI (2274) display_image: Creating UI...[0m
[0;32mI (2274) display_image: Screen resolution: 320x240[0m
[0;32mI (2274) display_image: UI created, waiting for image upload[0m
[0;32mI (2274) display_image: UI created, LVGL will refresh asynchronously[0m
[0;32mI (2274) display_image: Initializing WiFi...[0m
[0;32mI (2274) pp: pp rom version: e7ae62f[0m
[0;32mI (2274) net80211: net80211 rom version: e7ae62f[0m
[0;32mI (2284) wifi:wifi driver task: 3fcc3198, prio:23, stack:6656, core=0[0m
[0;32mI (2294) wifi:wifi firmware version: 90929ad727[0m
[0;32mI (2294) wifi:wifi certification version: v7.0[0m
[0;32mI (2294) wifi:config NVS flash: enabled[0m
[0;32mI (2294) wifi:config nano formatting: disabled[0m
[0;32mI (2294) wifi:Init data frame dynamic rx buffer num: 32[0m
[0;32mI (2294) wifi:Init static rx mgmt buffer num: 5[0m
[0;32mI (2294) wifi:Init management short buffer num: 32[0m
[0;32mI (2294) wifi:Init dynamic tx buffer num: 32[0m
[0;32mI (2294) wifi:Init static tx FG buffer num: 2[0m
[0;32mI (2294) wifi:Init static rx buffer size: 1600[0m
[0;32mI (2294) wifi:Init static rx buffer num: 10[0m
[0;32mI (2294) wifi:Init dynamic rx buffer num: 32[0m
[0;32mI (2294) wifi_init: rx ba win: 6[0m
[0;32mI (2294) wifi_init: accept mbox: 6[0m
[0;32mI (2294) wifi_init: tcpip mbox: 32[0m
[0;32mI (2294) wifi_init: udp mbox: 6[0m
[0;32mI (2294) wifi_init: tcp mbox: 6[0m
[0;32mI (2294) wifi_init: tcp tx win: 5760[0m
[0;32mI (2294) wifi_init: tcp rx win: 5760[0m
[0;32mI (2294) wifi_init: tcp mss: 1440[0m
[0;32mI (2294) wifi_init: WiFi IRAM OP enabled[0m
[0;32mI (2294) wifi_init: WiFi RX IRAM OP enabled[0m
[0;32mI (2294) phy_init: phy_version 680,a6008b2,Jun  4 2024,16:41:10[0m
[0;32mI (2334) wifi:mode : sta (74:4d:bd:2e:08:b8)[0m
[0;32mI (2334) wifi:enable tsf[0m
[0;32mI (2334) display_image: WiFi initialization finished. Connecting to CU_thEy...[0m
[0;32mI (2344) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0[0m
[0;32mI (2344) wifi:state: init -> auth (0xb0)[0m
[0;32mI (2344) wifi:state: auth -> assoc (0x0)[0m
[0;32mI (2354) wifi:state: assoc -> run (0x10)[0m
[0;32mI (2364) wifi:<ba-add>idx:0 (ifx:0, 10:47:e7:5a:a4:2f), tid:0, ssn:1, winSize:64[0m
[0;32mI (2384) wifi:connected with CU_thEy, aid = 4, channel 6, BW20, bssid = 10:47:e7:5a:a4:2f[0m
[0;32mI (2384) wifi:security: WPA2-PSK, phy: bgn, rssi: -46[0m
[0;32mI (2384) wifi:pm start, type: 1[0m

[0;32mI (2384) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us[0m
[0;32mI (2384) wifi:set rx beacon pti, rx_bcn_pti: 0, bcn_timeout: 25000, mt_pti: 0, mt_time: 10000[0m
[0;32mI (2424) wifi:AP's beacon interval = 102400 us, DTIM period = 1[0m
[0;32mI (5274) esp_netif_handlers: sta ip: 192.168.1.31, mask: 255.255.255.0, gw: 192.168.1.1[0m
[0;32mI (5274) display_image: Got IP address: 192.168.1.31[0m
[0;32mI (7334) display_image: Starting HTTP server on port: '80'[0m
[0;32mI (7334) display_image: HTTP server started[0m
[0;32mI (7334) display_image: Endpoints: POST /upload (file), POST /upload_url (URL), GET /status[0m
[0;32mI (7334) display_image: Initializing windmill control (MCP client)...[0m
[0;32mI (7334) windmill_control: Initializing windmill control...[0m
[0;32mI (7334) gpio: GPIO[21]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (7334) windmill_control: Windmill GPIO 21 initialized[0m
[0;32mI (7334) mcp_client: Initializing MCP client...[0m
[0;32mI (7334) mcp_client: Server: wss://api.xiaozhi.me/mcp/[0m
[0;32mI (7334) mcp_client: Tools: 1[0m
[0;32mI (7334) mcp_client: Attempting to connect to MCP server...[0m
[0;32mI (7334) mcp_client: Connecting to MCP server: wss://api.xiaozhi.me/mcp/[0m
[0;32mI (7334) mcp_client: MCP client initialized[0m
[0;32mI (7334) windmill_control: Windmill control initialized[0m
[0;32mI (7334) display_image: Windmill control initialized successfully[0m
[0;32mI (7334) display_image: Network Image Display Example Initialized[0m
[0;32mI (7334) display_image: Upload images via HTTP POST to /upload[0m
[0;32mI (7334) display_image: Check status via HTTP GET /status[0m
[0;32mI (7334) display_image: Windmill control via MCP WebSocket initialized[0m
[0;32mI (7334) main_task: Returned from app_main()[0m
[0;32mI (7634) esp-x509-crt-bundle: Certificate validated[0m
[0;32mI (8174) mcp_client: Connected to MCP server[0m
[0;32mI (8174) mcp_client: Received: {"id":0,"jsonrpc":"2.0","method":"initialize","params":{"protocolVersion":"2024-11-05","capabilities":{"sampling":{},"roots":{"listChanged":false}},"clientInfo":{"name":"xz-mcp-broker","version":"0.0.[0m
[0;32mI (8174) mcp_client: Received initialize request, sending response[0m
[0;32mI (8184) mcp_client: Sent initialized notification[0m
[0;32mI (8314) mcp_client: Received: {"jsonrpc":"2.0","method":"notifications/initialized"}[0m
[0;32mI (8314) mcp_client: Received MCP method: notifications/initialized[0m
[0;33mW (8314) mcp_client: Unknown method: notifications/initialized[0m
[0;32mI (8324) mcp_client: Received: {"id":1,"jsonrpc":"2.0","method":"tools/list","params":{}}[0m
[0;32mI (8324) mcp_client: Received MCP method: tools/list[0m
[0;32mI (8324) mcp_client: Responding to tools/list with 1 tools[0m
[0;32mI (8674) mcp_client: MCP connection established[0m
[0;32mI (27214) display_image: Received image URL upload request[0m
[0;32mI (27224) display_image: Received data: {"url": "http://res.xrunda.com/ai-test/rs2026.jpg"}[0m
[0;32mI (27224) display_image: Image URL: http://res.xrunda.com/ai-test/rs2026.jpg[0m
[0;32mI (27224) display_image: Downloading image from URL: http://res.xrunda.com/ai-test/rs2026.jpg[0m
[0;32mI (27234) display_image: HTTP_EVENT_ON_CONNECTED[0m
[0;32mI (27254) display_image: Image size from header: 25083 bytes[0m
[0;32mI (27314) display_image: HTTP_EVENT_ON_FINISH, received 25083 bytes[0m
[0;32mI (27314) display_image: Downloaded 25083 bytes, displaying image...[0m
[0;32mI (27654) display_image: Image saved to /spiffs/temp_image.jpg, size: 25083 bytes[0m
[0;32mI (27654) display_image: LVGL requested path: /temp_image.jpg, full path: /spiffs/temp_image.jpg[0m
[0;32mI (27664) display_image: Image displayed from buffer[0m
[0;32mI (27664) display_image: HTTP GET Status = 200, content_length = 25083[0m
[0;32mI (27664) display_image: Download successful, received 25083 bytes[0m
[0;32mI (27664) display_image: HTTP_EVENT_DISCONNECTED[0m
[0;32mI (27664) display_image: LVGL requested path: /temp_image.jpg, full path: /spiffs/temp_image.jpg[0m
[0;32mI (27664) display_image: LVGL requested path: /temp_image.jpg, full path: /spiffs/temp_image.jpg[0m
Guru Meditation Error: Core  / panic'ed (Cache disabled but cached memory region accessed). 
Write back error occurred while dcache tries to write back to flash
The following backtrace may not indicate the code that caused Cache invalid access


Core  0 register dump:
PC      : 0x40056f4d  PS      : 0x00060d34  A0      : 0x8202bb14  A1      : 0x3fcba9f0  
A2      : 0x3c13f674  A3      : 0x3fcdcff8  A4      : 0x00000030  A5      : 0x3c13f674  
A6      : 0x3a09683f  A7      : 0x70471663  A8      : 0x00000000  A9      : 0x3fcbb0ac  
A10     : 0x3fca7e64  A11     : 0x00000000  A12     : 0x03ca28c0  A13     : 0x01ffffff  
A14     : 0x3fca28c0  A15     : 0x00000016  SAR     : 0x00000000  EXCCAUSE: 0x00000007  
EXCVADDR: 0x00000000  LBEG    : 0x40056f5c  LEND    : 0x40056f72  LCOUNT  : 0x00000000  


Backtrace: 0x40056f4a:0x3fcba9f0 0x4202bb11:0x3fcbaa00 0x4202cbf1:0x3fcbaa20 0x4202d1c1:0x3fcbaa70 0x4202ba5d:0x3fcbaaa0 0x420e237a:0x3fcbaad0 0x4201d0ef:0x3fcbaaf0 0x4201d190:0x3fcbab50 0x42022789:0x3fcbab70 0x42022c2a:0x3fcbac00 0x420e1965:0x3fcbac30 0x42013df6:0x3fcbac50 0x42013ed6:0x3fcbac70 0x4201c40b:0x3fcbacb0 0x4201c4c1:0x3fcbacf0 0x4201c473:0x3fcbad40 0x4201c4c1:0x3fcbad80 0x4201c731:0x3fcbadd0 0x4201c932:0x3fcbadf0 0x4201caab:0x3fcbae60 0x4201cbb9:0x3fcbae90 0x4201cd6a:0x3fcbaeb0 0x42021a65:0x3fcbaee0 0x42021b12:0x3fcbaf00 0x42013c44:0x3fcbaf20 0x40384b49:0x3fcbaf40


Core  1 register dump:
PC      : 0x40380926  PS      : 0x00060034  A0      : 0x820038a9  A1      : 0x3fcb0960  
A2      : 0x00000000  A3      : 0x00000000  A4      : 0x3fcad800  A5      : 0x3fcad7e0  
A6      : 0x4037a328  A7      : 0x00000001  A8      : 0x8204a02e  A9      : 0x3fcb0920  
A10     : 0x00000000  A11     : 0x00000000  A12     : 0x3fcad7e0  A13     : 0x3fcad7c0  
A14     : 0x00000001  A15     : 0x3fcb0b28  SAR     : 0x00000000  EXCCAUSE: 0x00000007  
EXCVADDR: 0x00000000  LBEG    : 0x00000000  LEND    : 0x00000000  LCOUNT  : 0x00000000  


Backtrace: 0x40380923:0x3fcb0960 0x420038a6:0x3fcb0980 0x40385d41:0x3fcb09a0 0x40384b49:0x3fcb09c0




ELF file SHA256: fd3b19f3d
